<Window x:Class="NASFileWatcher.Windows.RecentNotificationsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="最近通知記錄" 
        Height="500" 
        Width="800"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 標題 -->
        <Border Grid.Row="0" Background="#FF2196F3" Padding="15">
            <StackPanel>
                <TextBlock Text="最近 20 筆檔案變動記錄" 
                           Foreground="White" 
                           FontSize="16" 
                           FontWeight="Bold"/>
                <TextBlock x:Name="StatusTextBlock"
                           Text="載入中..." 
                           Foreground="White" 
                           FontSize="12" 
                           Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- 通知清單 -->
        <DataGrid Grid.Row="1" 
                  x:Name="NotificationsDataGrid"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  SelectionMode="Single"
                  GridLinesVisibility="Horizontal"
                  AlternatingRowBackground="#FFF5F5F5"
                  CanUserResizeRows="False"
                  HeadersVisibility="Column"
                  Margin="10">
            <DataGrid.Columns>
                <DataGridTextColumn Header="時間" 
                                    Binding="{Binding TimeDisplay}" 
                                    Width="140"/>
                <DataGridTextColumn Header="類型" 
                                    Binding="{Binding EventTypeDisplay}" 
                                    Width="80"/>
                <DataGridTextColumn Header="檔案名稱" 
                                    Binding="{Binding FileName}" 
                                    Width="200"/>
                <DataGridTextColumn Header="路徑" 
                                    Binding="{Binding RelativePath}" 
                                    Width="*"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- 底部按鈕 -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right" 
                    Margin="10">
            <Button Content="重新整理" 
                    Width="100" 
                    Height="30" 
                    Margin="0,0,10,0"
                    Click="RefreshButton_Click"/>
            <Button Content="關閉" 
                    Width="100" 
                    Height="30" 
                    IsCancel="True"
                    Click="CloseButton_Click"/>
        </StackPanel>
    </Grid>
</Window>
